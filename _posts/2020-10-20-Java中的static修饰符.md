---
title: Java中的static修饰符
date: 2020-10-20 16:35 +0800
categories: [Java]
tags: [Java基础]
---
# 用法

## static变量

**使用形式：类名.静态变量** （该类的实例也可调用，推荐使用类名调用）
```java
ClassName.variable
```
在类加载的时候完成初始化，内存中只有一份（存储在静态区），该类的所有实例共享这一个变量。

## static方法

**使用形式：方法名前+static修饰**

可以使用类名直接调用，不必在对象中调用。**静态方法中不可直接调用非静态方法**。

## static内部类

static 可以用于修饰内部类，经static修饰的内部类可以不新建内部类实例而直接通过外部类访问。

## static代码块

static代码块可以放在类中的任意位置（除了方法内部），块中的代码会在类加载的时候按照代码块的顺序执行，并且只会执行一次。

## 静态导包

静态导包是简化书写使用的，使用了静态导包之后，就可以直接使用相关的静态变量，静态方法，不需要使用类名.变量和类名.方法来进行调用

{% raw %}
```java
import static java.lang.Math.PI;
public void method() {
    System.out.println(PI);
}
```
{% endraw %}

## Tips

* 在C/C++中的static可以用来修饰局部变量，但是**在Java中，static是不允许用来修饰局部变量的**。

* static关键字一般用在工具类里，工具类只需要一套，载入内存的时候对这些变量和方法进行初始化即可，不需要每次创建对象，然后调用相应的变量和方法，否则会浪费过多的内存资源。
* 如果static的变量和方法太多，而**这些变量和方法是在JVM关闭的时候才进行清理的**，在就会造成内存的浪费，而且可能会导致内存溢出。
